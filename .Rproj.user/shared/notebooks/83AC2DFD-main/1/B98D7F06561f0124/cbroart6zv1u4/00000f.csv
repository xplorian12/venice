"0","# List all CSV files in the current directory"
"0","plots <- list()"
"0","csv_files <- list.files(pattern = ""\\.csv$"", full.names = FALSE)"
"0",""
"0","for (file in csv_files) {"
"0","  df_name <- tools::file_path_sans_ext(file)"
"0","  "
"0","  # Read and clean CSV"
"0","  df <- read.csv(file, stringsAsFactors = FALSE, skip = 3)"
"0",""
"0","  if (ncol(df) >= 2) {"
"0","    colnames(df)[2] <- df_name"
"0",""
"0","    if (""Date"" %in% colnames(df)) {"
"0","      df$Date <- my(df$Date)"
"0","    }"
"0",""
"0","    df[[df_name]] <- as.numeric(df[[df_name]])"
"0","  }"
"0",""
"0","  df <- na.omit(df)"
"0",""
"0","  # Convert to long format so ggplot can use one y and one label"
"0","  df_long <- df %>%"
"0","    select(Date, all_of(df_name)) %>%"
"0","    pivot_longer(cols = -Date, names_to = ""Area"", values_to = ""Price"")"
"0","  "
"0","  plot_title <- tools::toTitleCase(gsub(""_"", "" "", df_name))"
"0",""
"0","  # Plot using 'Area' as dynamic label"
"0","  p <- ggplot(df_long, aes(x = Date, y = Price, color = Area)) +"
"0","  geom_line(size = 1) +"
"0","  geom_smooth(method = ""loess"", se = FALSE, linetype = ""dashed"") +"
"0","  labs("
"0","    title = plot_title,"
"0","    x = ""Date"","
"0","    y = ""Value"""
"0","  ) +"
"0","  theme_classic()  # consistent color"
"0","  "
"0","  plots[[df_name]] <- p"
"0","  assign(df_name, df, envir = .GlobalEnv)"
"0","}"
"0",""
"0","# View all plots in RStudio tab viewer"
"0","for (p in plots) {"
"0","  print(p)"
"0","}"
